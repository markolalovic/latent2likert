<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="latent2likert">
<title>Using latent2likert • latent2likert</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using latent2likert">
<meta property="og:description" content="latent2likert">
<meta property="og:image" content="https://markolalovic.github.io/latent2likert/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">latent2likert</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/using_latent2likert.html">Using latent2likert</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/markolalovic/latent2likert/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Using latent2likert</h1>
                        <h4 data-toc-skip class="author">Marko
Lalovic</h4>
            
            <h4 data-toc-skip class="date">Last Updated: 2024-06-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/markolalovic/latent2likert/blob/HEAD/vignettes/using_latent2likert.Rmd" class="external-link"><code>vignettes/using_latent2likert.Rmd</code></a></small>
      <div class="d-none name"><code>using_latent2likert.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In social sciences, variables of interest are often conceptualized as
latent variables — hidden continuous variables measured through Likert
scale questions, typically categorized as Strongly disagree, Disagree,
Neutral, Agree, and Strongly agree. Researchers frequently aim to
uncover these latent variables using various statistical techniques.
Accurate modeling of survey data is essential for comparative analysis
through simulation. The <strong>latent2likert</strong> package addresses
this need by providing an effective algorithm to simulate Likert
response variables from hypothetical latent variables. This vignette
provides two practical workflow examples demonstrating the use of the
<strong>latent2likert</strong> package.</p>
</div>
<div class="section level2">
<h2 id="simulating-survey-data">Simulating Survey Data<a class="anchor" aria-label="anchor" href="#simulating-survey-data"></a>
</h2>
<p>The following hypothetical survey simulation is loosely based on an
actual comparative study on teaching and learning R in a pair of
introductory statistics labs <span class="citation">(<a href="#ref-mcnamara2024teaching">McNamara 2024</a>)</span>.</p>
<p>Imagine a situation where 10 participants from Course A and 20
participants from Course B have completed the survey. Suppose the
initial question was:</p>
<blockquote>
<p>“How would you rate your experience with the course?”</p>
</blockquote>
<p>with four possible answers:</p>
<blockquote>
<p>Poor, Fair, Good, and Excellent.</p>
</blockquote>
<p>Let’s assume that the participants in Course A were neutral regarding
the question, while participants in Course B had a more positive
experience on average.</p>
<p>By choosing appropriate parameters for the latent distributions and
setting the number of categories n_levels = 4, we can generate
hypothetical responses (standard deviation sd = 1 and skewness skew = 0,
by default):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#library(latent2likert) # load the package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span> <span class="co"># to ensure reproducible results</span></span>
<span></span>
<span><span class="va">course_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, n_items <span class="op">=</span> <span class="fl">1</span>, n_levels <span class="op">=</span> <span class="fl">4</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">course_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span>, n_items <span class="op">=</span> <span class="fl">1</span>, n_levels <span class="op">=</span> <span class="fl">4</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>To summarize the results, create a data frame from all responses:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_levels</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span><span class="va">n_groups</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">cats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Poor"</span>, <span class="st">"Fair"</span>, <span class="st">"Good"</span>, <span class="st">"Excellent"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Course <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, each <span class="op">=</span> <span class="va">n_levels</span><span class="op">)</span>,</span>
<span>  Response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">cats</span>, <span class="va">n_groups</span><span class="op">)</span>, levels <span class="op">=</span> <span class="va">cats</span><span class="op">)</span>,</span>
<span>  Proportion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">get_prop_table</span><span class="op">(</span><span class="va">course_A</span>, <span class="va">n_levels</span><span class="op">)</span>,</span>
<span>                 <span class="fu">get_prop_table</span><span class="op">(</span><span class="va">course_B</span>, <span class="va">n_levels</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">Prop</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="op">]</span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt;   Course  Response Proportion</span></span>
<span><span class="co">#&gt; 1      A      Poor       0.30</span></span>
<span><span class="co">#&gt; 2      A      Fair       0.20</span></span>
<span><span class="co">#&gt; 3      A      Good       0.20</span></span>
<span><span class="co">#&gt; 4      A Excellent       0.30</span></span>
<span><span class="co">#&gt; 6      B      Fair       0.10</span></span>
<span><span class="co">#&gt; 7      B      Good       0.25</span></span>
<span><span class="co">#&gt; 8      B Excellent       0.65</span></span></code></pre></div>
<p>The results can then be visualized using a grouped bar chart:</p>
<figure><img src="../reference/figures/vignette/courses-grouped-min.png" width="100%" alt="Grouped bar chart"></figure>
</div>
<div class="section level2">
<h2 id="pre-and-post-comparison">Pre and Post Comparison<a class="anchor" aria-label="anchor" href="#pre-and-post-comparison"></a>
</h2>
<p>Now suppose that the survey also asked the participants to rate their
skills on a 5-point Likert scale, ranging from 1 (very poor) to 5 (very
good) in:</p>
<ul>
<li>Programming,</li>
<li>Searching Online,</li>
<li>Solving Problems.</li>
</ul>
<p>The survey was completed by the participants both before and after
taking the course for a pre and post-comparison. Suppose that
participants’ assessments of:</p>
<ul>
<li>Programming skills on average increased,</li>
<li>Searching Online stayed about the same,</li>
<li>Solving Problems increased in Course A, but decreased for
participants in Course B.</li>
</ul>
<p>Let’s simulate the survey data for this scenario:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pre- and post-assessments of skills for Course A</span></span>
<span><span class="va">pre_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, n_items <span class="op">=</span> <span class="fl">3</span>, n_levels <span class="op">=</span> <span class="fl">5</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">post_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, n_items <span class="op">=</span> <span class="fl">3</span>, n_levels <span class="op">=</span> <span class="fl">5</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pre- and post-assessments of skills for Course B</span></span>
<span><span class="va">pre_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span>, n_items <span class="op">=</span> <span class="fl">3</span>, n_levels <span class="op">=</span> <span class="fl">5</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">post_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span>, n_items <span class="op">=</span> <span class="fl">3</span>, n_levels <span class="op">=</span> <span class="fl">5</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Create a data frame from all responses to summarize the results:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pre_A</span>, <span class="va">post_A</span>, <span class="va">pre_B</span>, <span class="va">post_B</span><span class="op">)</span></span>
<span><span class="va">n_items</span> <span class="op">&lt;-</span> <span class="fl">6</span> <span class="co"># for 3 questions before and after</span></span>
<span><span class="va">n_levels</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="co"># for a 5-point Likert scale</span></span>
<span><span class="va">skills</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Programming"</span>, <span class="st">"Searching online"</span>, <span class="st">"Solving problems"</span><span class="op">)</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">skills</span>, </span>
<span>                                  <span class="kw">function</span><span class="op">(</span><span class="va">skill</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">skill</span>, <span class="va">n_levels</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">questions</span>, levels <span class="op">=</span> <span class="va">skills</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span> <span class="op">(</span></span>
<span>  Course <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Course A"</span>, <span class="va">n_items</span> <span class="op">*</span> <span class="va">n_levels</span><span class="op">)</span>, </span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Course B"</span>, <span class="va">n_items</span> <span class="op">*</span> <span class="va">n_levels</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Question <span class="op">=</span> <span class="va">questions</span>,</span>
<span>  Time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"before"</span>, <span class="fl">3</span><span class="op">*</span><span class="va">n_levels</span><span class="op">)</span>, </span>
<span>                         <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"after"</span>, <span class="fl">3</span><span class="op">*</span><span class="va">n_levels</span><span class="op">)</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n_levels</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Proportion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">{</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu">get_prop_table</span><span class="op">(</span><span class="va">d</span>, <span class="va">n_levels</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Course         Question   Time Response Proportion</span></span>
<span><span class="co">#&gt; 1 Course A      Programming before        1        0.5</span></span>
<span><span class="co">#&gt; 2 Course A      Programming before        2        0.2</span></span>
<span><span class="co">#&gt; 3 Course A      Programming before        3        0.3</span></span>
<span><span class="co">#&gt; 4 Course A      Programming before        4        0.0</span></span>
<span><span class="co">#&gt; 5 Course A      Programming before        5        0.0</span></span>
<span><span class="co">#&gt; 6 Course A Searching online before        1        0.1</span></span></code></pre></div>
<p>And visualize the results with a stacked bar chart:</p>
<figure><img src="../reference/figures/vignette/courses-stacked-min.png" width="100%" alt="Stacked bar chart"></figure>
</div>
<div class="section level2">
<h2 id="recreating-scale-scores">Recreating Scale Scores<a class="anchor" aria-label="anchor" href="#recreating-scale-scores"></a>
</h2>
<p>We will use part of <a href="https://search.r-project.org/CRAN/refmans/psych/html/bfi.html" class="external-link">bfi</a>
data set from <span class="citation">(<a href="#ref-psych">Revelle
2024</a>)</span>. In particular only the first 5 items corresponding to
agreeableness. To investigate the differences in agreeableness between
men and women we will also use the gender attribute.</p>
<p>Load the data:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#load(file="/Users/markolalovic/dev/latent2likert/data/part_bfi.rda")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">part_bfi</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">part_bfi</span><span class="op">)</span></span>
<span><span class="co">#&gt;       A1 A2 A3 A4 A5 gender</span></span>
<span><span class="co">#&gt; 61617  2  4  3  4  4      0</span></span>
<span><span class="co">#&gt; 61618  2  4  5  2  5      1</span></span>
<span><span class="co">#&gt; 61620  5  4  5  4  4      1</span></span>
<span><span class="co">#&gt; 61621  4  4  6  5  5      1</span></span>
<span><span class="co">#&gt; 61622  2  3  3  4  5      0</span></span>
<span><span class="co">#&gt; 61623  6  6  5  6  5      1</span></span></code></pre></div>
<p>Separate the items into two groups according to their gender:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"A3"</span>, <span class="st">"A4"</span>, <span class="st">"A5"</span><span class="op">)</span></span>
<span><span class="va">items_M</span> <span class="op">&lt;-</span> <span class="va">part_bfi</span><span class="op">[</span><span class="va">part_bfi</span><span class="op">$</span><span class="va">gender</span> <span class="op">==</span> <span class="fl">0</span>, <span class="va">vars</span><span class="op">]</span></span>
<span><span class="va">items_F</span> <span class="op">&lt;-</span> <span class="va">part_bfi</span><span class="op">[</span><span class="va">part_bfi</span><span class="op">$</span><span class="va">gender</span> <span class="op">==</span> <span class="fl">1</span>, <span class="va">vars</span><span class="op">]</span></span></code></pre></div>
<p>To reproduce the items, start by estimating the parameters of the
latent variables, assuming they are normal and providing the number of
possible response categories ‘n_levels = 6’:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params_M</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_params.html">estimate_params</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">items_M</span>, n_levels <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">params_F</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_params.html">estimate_params</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">items_F</span>, n_levels <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<p>Then, generate new responses to the items using the estimated
parameters and estimated correlations:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span> <span class="co"># to ensure reproducible results</span></span>
<span></span>
<span><span class="va">new_items_M</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">items_M</span><span class="op">)</span>, </span>
<span>                       n_items <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                       n_levels <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                       mean <span class="op">=</span> <span class="va">params_M</span><span class="op">[</span><span class="st">"mean"</span>, <span class="op">]</span>, </span>
<span>                       sd <span class="op">=</span> <span class="va">params_M</span><span class="op">[</span><span class="st">"sd"</span>, <span class="op">]</span>,</span>
<span>                       corr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">items_M</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_items_F</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rlikert.html">rlikert</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">items_F</span><span class="op">)</span>, </span>
<span>                       n_items <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                       n_levels <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                       mean <span class="op">=</span> <span class="va">params_F</span><span class="op">[</span><span class="st">"mean"</span>, <span class="op">]</span>, </span>
<span>                       sd <span class="op">=</span> <span class="va">params_F</span><span class="op">[</span><span class="st">"sd"</span>, <span class="op">]</span>,</span>
<span>                       corr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">items_F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The next step would be to create agreeableness scale scores for both
groups of participants, by taking the average of these 5 items.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Combine new items and gender in new data frame</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">new_items_M</span>, <span class="va">new_items_F</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">new_data</span><span class="op">$</span><span class="va">gender</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">items_M</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">items_F</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Y1 Y2 Y3 Y4 Y5 gender</span></span>
<span><span class="co">#&gt; 1  3  5  5  4  5      0</span></span>
<span><span class="co">#&gt; 2  1  5  4  4  4      0</span></span>
<span><span class="co">#&gt; 3  2  6  5  6  4      0</span></span>
<span><span class="co">#&gt; 4  4  4  4  6  5      0</span></span>
<span><span class="co">#&gt; 5  4  5  3  2  2      0</span></span>
<span><span class="co">#&gt; 6  5  4  5  6  5      0</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># We also need to reverse the first item because it has negative correlations</span></span>
<span><span class="va">part_bfi</span><span class="op">$</span><span class="va">A1</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">part_bfi</span><span class="op">$</span><span class="va">A1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">part_bfi</span><span class="op">$</span><span class="va">A1</span><span class="op">)</span><span class="op">)</span> <span class="op">-</span> <span class="va">part_bfi</span><span class="op">$</span><span class="va">A1</span></span>
<span><span class="va">new_data</span><span class="op">$</span><span class="va">Y1</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">$</span><span class="va">Y1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">$</span><span class="va">Y1</span><span class="op">)</span><span class="op">)</span> <span class="op">-</span> <span class="va">new_data</span><span class="op">$</span><span class="va">Y1</span></span>
<span></span>
<span><span class="co"># Create agreeableness scale scores</span></span>
<span><span class="va">part_bfi</span><span class="op">$</span><span class="va">agreeable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">part_bfi</span><span class="op">[</span>, <span class="va">vars</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">new_data</span><span class="op">$</span><span class="va">agreeable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y1"</span>, <span class="st">"Y2"</span>, <span class="st">"Y3"</span>, <span class="st">"Y4"</span>, <span class="st">"Y5"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>And visualize the results with a grouped boxplot:</p>
<figure><img src="../reference/figures/vignette/scales-min.png" width="100%" alt="Scales"></figure>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-mcnamara2024teaching" class="csl-entry">
McNamara, Amelia. 2024. <span>“Teaching Modeling in Introductory
Statistics: A Comparison of Formula and Tidyverse Syntaxes.”</span> <a href="https://arxiv.org/abs/2201.12960" class="external-link">https://arxiv.org/abs/2201.12960</a>.
</div>
<div id="ref-psych" class="csl-entry">
Revelle, William. 2024. <span>“Psych: Procedures for Psychological,
Psychometric, and Personality Research.”</span> Evanston, Illinois:
Northwestern University. <a href="https://CRAN.R-project.org/package=psych" class="external-link">https://CRAN.R-project.org/package=psych</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marko Lalovic.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
